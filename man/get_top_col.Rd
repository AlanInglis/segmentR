% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_top_col.R
\name{get_top_col}
\alias{get_top_col}
\title{get_top_col}
\usage{
get_top_col(
  img,
  n = NULL,
  exclude = TRUE,
  sig = 4,
  avg_cols = TRUE,
  n_clusters = 5,
  custom_exclude = NULL
)
}
\arguments{
\item{img}{An image input. Can be a file path, URL, \code{magick-image} object, RGB array (\verb{height × width × 3}), or \code{pixmapRGB}.}

\item{n}{Integer. Number of top colours to return. If \code{NULL}, returns all (after exclusions).}

\item{exclude}{Logical. If \code{TRUE} (default), removes near-black and near-white tones.}

\item{sig}{Integer. Decimal places to round the colour percentage values. Default is 4.}

\item{avg_cols}{Logical. If \code{TRUE} (default), similar colours are grouped via k-means.}

\item{n_clusters}{Integer or \code{NULL}. Number of clusters to use if \code{avg_cols = TRUE}. Default is 5.}

\item{custom_exclude}{Optional vector of hex colours to exclude manually.}
}
\value{
A data frame with one row per extracted colour. Columns:
\itemize{
\item \code{hex} – hex code of the colour
\item \code{freq} – number of pixels with that colour
\item \code{col_percent} – percentage of total pixels
\item \code{avg_color} – averaged colour per group (if \code{avg_cols = TRUE})
}
}
\description{
Computes a frequency table of colours present in an image. Supports optional exclusion of
near-black/white tones, rounding of percentages, and perceptual colour grouping via k-means.
Input can be a local file, URL, \code{magick-image}, RGB array, or \code{pixmapRGB} object.
}
\details{
Extract the most frequent colours from an image, optionally grouping similar shades.
}
\examples{
# Use internal image
img_path <- system.file("extdata", "sample_img.png", package = "segmentR")
img <- read_image(img_path)
# Extract top colours
get_top_col(img, n = 5, n_clusters = 3, exclude = TRUE)
# Without exclusion and clustering
get_top_col(img, n = 5, exclude = FALSE, avg_cols = FALSE)


}
\seealso{
\code{\link[=exclude_shades]{exclude_shades()}}, \code{\link[=avg_hex]{avg_hex()}}, \code{\link[=img_to_palette]{img_to_palette()}}
}
